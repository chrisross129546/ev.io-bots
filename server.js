import { generateAnonymousUser } from './request.js';
import { WebSocket } from 'ws';
import { createInitialiserPacket } from './handshake.js';
import { HttpsProxyAgent } from 'https-proxy-agent';

const PROXY_ADDRESSES = [
    'http://212.108.134.10:9090',
    'http://72.55.172.166:80',
    'http://47.93.114.68:88',
    'http://65.109.152.88:8888',
    'http://67.43.236.20:11871',
    'http://67.43.227.227:7965',
    'http://72.10.160.90:1747',
    'http://20.204.214.79:3129',
    'http://74.208.177.198:80',
    'http://72.10.164.178:17951',
    'http://104.45.128.122:80',
    'http://194.93.25.55:3128',
    'http://117.160.250.130:8899',
    'http://117.250.3.58:8080',
    'http://117.160.250.130:80',
    'http://123.30.154.171:7777',
    'http://165.16.31.14:8080',
    'http://112.51.96.118:9091',
    'http://222.88.167.22:9002',
    'http://195.181.172.211:8081',
    'http://117.160.250.138:80',
    'http://193.105.211.241:80',
    'http://103.216.49.151:8080',
    'http://64.189.106.6:3129',
    'http://72.10.160.90:23483',
    'http://103.139.126.42:8080',
    'http://77.235.19.2:8080',
    'http://103.158.252.99:80',
    'http://173.208.223.139:4128',
    'http://184.107.90.22:3128',
    'http://120.55.49.231:5001',
    'http://108.166.190.164:80',
    'http://121.240.127.86:8081',
    'http://162.248.225.230:80',
    'http://14.241.236.189:2512',
    'http://47.91.104.88:3128',
    'http://94.45.74.60:8080',
    'http://36.134.91.82:8888',
    'http://189.240.60.166:9090',
    'http://185.82.99.197:9092',
    'http://168.196.246.118:8080',
    'http://118.69.134.0:80',
    'http://67.43.236.20:30137',
    'http://72.10.164.178:22073',
    'http://193.105.211.28:80',
    'http://20.219.180.149:3129',
    'http://72.10.164.178:19217',
    'http://67.43.228.253:27519',
    'http://193.105.207.157:3128',
    'http://79.137.199.255:1234',
    'http://72.10.160.90:1213',
    'http://118.179.101.57:5020',
    'http://67.43.228.253:13891',
    'http://14.103.24.148:8000',
    'http://103.96.146.194:3128',
    'http://193.70.0.157:80',
    'http://124.71.157.181:4444',
    'http://188.166.119.192:3128',
    'http://47.113.221.120:8008',
    'http://157.25.92.74:3128',
    'http://59.6.26.121:80',
    'http://124.71.157.181:3129',
    'http://88.132.205.84:8080',
    'http://67.43.236.20:29069',
    'http://157.245.46.100:31280',
    'http://124.71.157.181:9002',
    'http://101.32.222.249:3999',
    'http://152.32.132.220:80',
    'http://103.96.146.122:3128',
    'http://67.43.236.20:8763',
    'http://47.113.221.120:6789',
    'http://50.232.250.157:8080',
    'http://41.33.66.237:1981',
    'http://72.10.164.178:6537',
    'http://61.133.66.69:9002',
    'http://36.64.86.27:8181',
    'http://67.43.228.250:19663',
    'http://117.160.250.138:8899',
    'http://178.213.24.233:8080',
    'http://211.222.252.187:8443',
    'http://43.156.0.125:8888',
    'http://45.64.11.217:8080',
    'http://139.129.231.228:8009',
    'http://58.234.116.197:8193',
    'http://181.49.243.14:44443',
    'http://218.75.102.198:8000',
    'http://139.129.231.228:8499',
    'http://67.43.227.227:13065',
    'http://154.79.252.174:8080',
    'http://67.43.236.20:27733',
    'http://185.229.111.129:45020',
    'http://193.41.155.11:3128',
    'http://115.127.96.17:8674',
    'http://72.10.160.90:26963',
    'http://68.178.170.59:80',
    'http://8.219.74.58:118',
    'http://203.142.77.226:8080',
    'http://67.43.236.20:31083',
    'http://65.20.144.200:8080',
    'http://89.38.8.130:88',
    'http://36.64.132.91:3127',
    'http://184.58.32.195:80',
    'http://68.183.144.115:10001',
    'http://72.10.164.178:12955',
    'http://61.129.2.212:8080',
    'http://67.43.236.20:6523',
    'http://103.51.205.20:8080',
    'http://203.143.30.25:8080',
    'http://8.219.74.58:8024',
    'http://211.222.252.187:80',
    'http://177.93.44.226:999',
    'http://36.90.52.9:8080',
    'http://189.240.60.169:9090',
    'http://111.20.217.178:9091',
    'http://194.44.189.250:8080',
    'http://67.43.228.253:4419',
    'http://216.176.187.99:39837',
    'http://103.133.222.220:102',
    'http://67.43.227.227:18083',
    'http://72.10.160.90:30281',
    'http://39.107.33.254:8090',
    'http://36.64.162.194:8080',
    'http://123.126.158.50:80',
    'http://79.137.181.6:3128',
    'http://103.169.130.42:8080',
    'http://72.10.160.90:3013',
    'http://187.245.214.7:999',
    'http://102.132.201.202:80',
    'http://93.87.49.86:8080',
    'http://8.219.74.58:8499',
    'http://67.43.227.227:2895',
    'http://45.167.124.30:999',
    'http://186.195.33.22:5151',
    'http://72.10.160.170:31325',
    'http://198.37.57.112:80',
    'http://114.97.89.204:8089',
    'http://216.155.89.66:999',
    'http://72.10.164.178:31333',
    'http://8.219.97.248:80',
    'http://123.13.218.68:9002',
    'http://67.43.228.253:18311',
    'http://179.57.172.172:999',
    'http://79.137.199.255:8888',
    'http://72.10.164.178:13043',
    'http://102.66.221.75:8080',
    'http://221.194.149.8:80',
    'http://46.101.186.238:80',
    'http://103.180.122.53:2022',
    'http://109.194.22.61:8080',
    'http://8.208.89.32:7777',
    'http://201.20.118.146:27234',
    'http://197.243.20.186:80',
    'http://87.103.133.243:4444',
    'http://45.4.201.179:11201',
    'http://2.189.59.6:80',
    'http://67.43.228.253:1385',
    'http://121.128.194.154:80',
    'http://103.13.120.116:3128',
    'http://64.225.4.17:10003',
    'http://67.43.236.20:1713',
    'http://2.239.213.133:3128',
    'http://103.101.82.198:8080',
    'http://45.64.96.154:4545',
    'http://193.105.211.53:80',
    'http://128.199.151.183:9999',
    'http://8.213.128.90:86',
    'http://84.51.15.254:32650',
    'http://93.20.25.100:80',
    'http://195.96.162.162:38080',
    'http://8.208.89.32:8009',
    'http://41.65.163.76:1981',
    'http://139.129.162.65:3128',
    'http://200.59.10.47:999',
    'http://67.43.227.227:24145',
    'http://5.189.172.158:3128',
    'http://138.0.228.120:8080',
    'http://194.9.62.141:80',
    'http://37.27.6.46:80',
    'http://45.235.16.121:27234',
    'http://160.248.80.91:443',
    'http://67.43.236.20:18805',
    'http://34.87.84.105:80',
    'http://77.235.31.24:8080',
    'http://185.229.111.106:45020',
    'http://67.43.236.20:4317',
    'http://68.183.144.115:10007',
    'http://123.108.92.118:8082',
    'http://181.81.245.194:4128',
    'http://20.44.188.17:3129',
    'http://152.32.132.220:443',
    'http://195.181.172.226:8082',
    'http://23.143.160.171:999',
    'http://178.128.113.118:23128',
    'http://190.110.164.164:999',
    'http://72.10.164.178:18625',
    'http://20.44.189.184:3129',
    'http://2.189.59.4:80',
    'http://51.250.13.88:80',
    'http://177.242.151.147:8080',
    'http://187.63.156.94:999',
    'http://65.20.235.19:8080',
    'http://165.227.120.250:10004',
    'http://39.62.10.236:8080',
    'http://177.93.50.157:999',
    'http://72.10.164.178:14467',
    'http://169.53.22.19:3128',
    'http://49.151.110.105:8080',
    'http://142.93.72.28:10004',
    'http://47.243.242.70:18081',
    'http://199.116.62.148:9999',
    'http://183.238.163.8:9002',
    'http://49.48.102.38:8080',
    'http://51.75.122.80:80',
    'http://103.9.188.228:8080',
    'http://101.255.148.174:8085',
    'http://185.82.176.34:80',
    'http://74.96.118.126:80',
    'http://138.0.228.122:8080',
    'http://72.10.160.90:23933',
    'http://203.74.125.18:8888',
    'http://67.43.227.227:30589',
    'http://67.43.227.227:27467',
    'http://34.64.85.78:3128',
    'http://72.10.164.178:2327',
    'http://84.39.112.144:3128',
    'http://67.43.228.253:7171',
    'http://180.183.33.85:34599',
    'http://176.99.2.43:1081',
    'http://212.110.188.216:34405',
    'http://159.192.102.249:8080',
    'http://103.189.116.180:8080',
    'http://42.200.196.208:8080',
    'http://72.10.164.178:32057',
    'http://159.138.122.91:18080',
    'http://83.243.92.154:8080',
    'http://47.88.3.19:8080',
    'http://72.10.164.178:16003',
    'http://72.10.160.90:16633',
    'http://139.159.176.147:8090',
    'http://67.43.228.253:26079',
    'http://129.150.39.9:80',
    'http://45.65.138.48:999',
    'http://122.9.131.161:10000',
    'http://213.226.11.149:41878',
    'http://60.12.168.114:9002',
    'http://89.189.1.186:38080',
    'http://196.251.54.172:1234',
    'http://122.9.131.161:7890',
    'http://149.172.228.40:80',
    'http://67.206.213.202:3120',
    'http://8.130.39.155:3389',
    'http://140.210.196.193:3000',
    'http://62.210.119.138:3128',
    'http://64.225.8.132:10003',
    'http://139.9.119.20:80',
    'http://67.43.236.20:13007',
    'http://222.173.52.164:8089',
    'http://139.59.1.14:3128',
    'http://20.219.177.85:3129',
    'http://103.152.112.167:80',
    'http://185.229.111.183:45020',
    'http://103.48.68.102:83',
    'http://67.43.227.226:14343',
    'http://122.9.131.161:8889',
    'http://103.187.117.6:8080',
    'http://101.255.116.126:8080',
    'http://177.53.214.4:999',
    'http://138.121.15.227:999',
    'http://67.43.228.254:26079',
    'http://140.210.196.193:8060',
    'http://45.224.22.63:999',
    'http://140.210.196.193:8058',
    'http://165.16.58.32:19000',
    'http://194.150.255.207:3128',
    'http://118.172.239.231:8180',
    'http://95.163.84.38:10333',
    'http://117.57.93.155:8089',
    'http://124.160.118.183:8080',
    'http://94.103.90.127:8080',
    'http://89.116.229.56:80',
    'http://61.162.210.14:1080',
    'http://105.27.130.22:9812',
    'http://72.10.164.178:19491',
    'http://103.105.69.253:2021',
    'http://218.75.69.50:57903',
    'http://188.87.137.45:3128',
    'http://113.208.119.142:9002',
    'http://78.38.93.22:3128',
    'http://91.126.217.67:8829',
    'http://82.223.102.92:9443',
    'http://200.76.42.197:999',
    'http://193.169.5.216:8090',
    'http://183.234.215.11:8443',
    'http://187.204.9.203:53281',
    'http://138.2.151.139:80',
    'http://72.10.160.172:3973',
    'http://39.107.89.178:80',
    'http://178.33.252.189:3128',
    'http://213.149.184.6:23128',
    'http://220.248.70.237:9002',
    'http://159.65.77.168:8585',
    'http://185.229.111.9:45020',
    'http://67.43.236.20:11399',
    'http://72.10.160.91:3755',
    'http://47.91.65.23:3128',
    'http://49.0.199.132:7777',
    'http://49.0.199.132:8058',
    'http://201.91.82.155:3128',
    'http://36.90.21.3:8080',
    'http://2.189.59.5:80',
    'http://84.204.40.154:8080',
    'http://181.78.21.147:999',
    'http://177.53.221.89:39310',
    'http://180.250.173.67:3128',
    'http://72.10.164.178:2929',
    'http://49.7.11.187:80',
    'http://138.204.95.166:8080',
    'http://159.138.255.141:123',
    'http://139.155.73.252:3128',
    'http://80.80.163.190:46276',
    'http://159.138.255.141:10',
    'http://72.10.160.90:27697',
    'http://72.10.160.90:24201',
    'http://162.248.224.103:80',
    'http://120.79.21.48:8499',
    'http://159.138.255.141:800',
    'http://189.240.60.164:9090',
    'http://195.181.172.230:8081',
    'http://179.43.10.0:8085',
    'http://139.99.148.90:3128',
    'http://159.138.255.141:2000',
    'http://47.107.61.215:8000',
    'http://124.223.186.186:80',
    'http://146.190.177.143:80',
    'http://185.101.16.52:80',
    'http://74.48.66.101:3128',
    'http://122.9.4.213:80',
    'http://67.43.236.20:17455',
    'http://42.116.10.196:443',
    'http://103.83.178.222:8080',
    'http://103.213.97.74:80',
    'http://72.10.160.90:5623',
    'http://8.213.128.90:123',
    'http://95.79.121.193:38080',
    'http://51.38.241.250:54321',
    'http://115.29.149.2:9000',
    'http://5.75.171.241:3918',
    'http://141.147.9.254:80',
    'http://185.177.114.137:38080',
    'http://20.197.19.78:80',
    'http://8.213.128.90:5555',
    'http://117.160.250.132:8899',
    'http://8.213.128.90:8499',
    'http://103.105.126.30:83',
    'http://67.43.227.227:6387',
    'http://67.43.236.20:9235',
    'http://8.213.128.90:9090',
    'http://8.213.128.90:8085',
    'http://39.165.0.137:9002',
    'http://49.235.127.178:8000',
    'http://60.188.102.225:18080',
    'http://183.230.162.122:9091',
    'http://71.235.183.92:80',
    'http://189.240.60.171:9090',
    'http://195.181.172.211:8082',
    'http://88.79.243.103:3128',
    'http://185.134.233.153:38080',
    'http://67.43.227.227:1519',
    'http://45.71.202.147:1993',
    'http://101.200.187.233:7302',
    'http://181.204.123.68:999',
    'http://103.106.116.253:3123',
    'http://196.223.129.21:80',
    'http://72.10.164.178:2275',
    'http://183.238.165.170:9002',
    'http://111.59.4.88:9002',
    'http://60.214.128.150:9091',
    'http://89.185.29.2:80',
    'http://94.102.237.90:32650',
    'http://41.180.70.2:8080',
    'http://115.127.32.25:8674',
    'http://103.159.47.9:83',
    'http://72.10.160.94:29069',
    'http://207.248.108.129:20185',
    'http://96.43.220.90:8080',
    'http://143.208.152.54:3180',
    'http://103.151.185.2:83',
    'http://47.98.46.112:443',
    'http://165.227.0.192:80',
    'http://67.43.236.20:28149',
    'http://103.176.45.87:3128',
    'http://103.235.34.114:8584',
    'http://67.43.228.253:19911',
    'http://181.129.62.2:39843',
    'http://177.242.151.148:8080',
    'http://20.219.235.172:3129',
    'http://51.75.206.209:80',
    'http://177.93.36.106:999',
    'http://134.209.29.120:3128',
    'http://138.68.60.8:8080',
    'http://58.246.58.150:9002',
    'http://124.70.205.56:6969',
    'http://181.143.224.42:999',
    'http://43.138.20.156:80',
    'http://47.243.92.199:3128',
    'http://138.68.225.200:80',
    'http://117.102.81.5:53281',
    'http://103.84.176.45:8083',
    'http://72.10.160.94:14087',
    'http://209.170.74.162:999',
    'http://193.105.211.73:80',
    'http://38.183.144.66:8080',
    'http://143.208.152.60:3180',
    'http://8.209.255.13:3128',
    'http://108.170.12.10:80',
    'http://103.165.155.108:1111',
    'http://67.43.228.253:13973',
    'http://67.43.227.227:21489',
    'http://87.255.9.123:8443',
    'http://117.160.250.133:8899',
    'http://218.57.210.186:9002',
    'http://72.10.160.90:8663',
    'http://72.10.160.90:19043',
    'http://67.43.236.20:20541',
    'http://31.146.216.246:8080',
    'http://36.93.204.241:8080',
    'http://58.20.248.139:9002',
    'http://164.132.170.100:80',
    'http://111.16.50.12:9002',
    'http://120.197.40.219:9002',
    'http://103.61.116.146:5050',
    'http://168.90.14.179:999',
    'http://2.189.59.7:80',
    'http://101.255.116.161:33333',
    'http://182.92.73.106:80',
    'http://93.190.142.57:39593',
    'http://67.43.236.20:15997',
    'http://198.49.68.80:80',
    'http://72.10.160.90:1757',
    'http://72.10.164.178:21999',
    'http://67.43.236.20:31685',
    'http://167.99.124.118:80',
    'http://57.129.35.97:3128',
    'http://167.172.238.15:10004',
    'http://139.5.155.34:63125',
    'http://103.231.249.107:3128',
    'http://72.10.164.178:32823',
    'http://154.85.58.149:80',
    'http://119.110.67.238:57413',
    'http://153.101.67.170:9002',
    'http://8.212.23.2:80',
    'http://61.254.81.88:9000',
    'http://103.186.32.179:8080',
    'http://47.100.91.57:8080',
    'http://101.132.25.152:138',
    'http://120.234.203.171:9002',
    'http://119.110.67.233:57413',
    'http://117.160.250.134:8899',
    'http://106.14.255.124:80',
    'http://67.43.236.20:7725',
    'http://47.74.152.29:8888',
    'http://67.43.227.227:7473',
    'http://101.132.25.152:500',
    'http://72.10.164.178:1563',
    'http://114.97.120.244:8089',
    'http://183.89.247.182:8080',
    'http://47.92.242.45:9090',
    'http://195.114.209.50:80',
    'http://181.174.115.9:1994',
    'http://41.93.63.66:8080',
    'http://119.18.147.49:5020',
    'http://37.48.120.146:3128',
    'http://5.104.174.199:23500',
    'http://46.47.197.210:3128',
    'http://109.107.189.214:80',
    'http://72.10.160.90:32129',
    'http://85.14.74.70:8800',
    'http://221.153.92.39:80',
    'http://46.146.222.71:80',
    'http://181.31.225.234:3128',
    'http://67.43.228.253:31291',
    'http://67.43.227.227:31097',
    'http://72.10.164.178:20361',
    'http://203.19.38.114:1080',
    'http://120.197.160.2:9002',
    'http://103.164.112.106:8080',
    'http://114.156.77.107:8080',
    'http://142.93.72.28:10000',
    'http://188.87.102.128:3128',
    'http://114.129.19.139:8080',
    'http://117.160.250.134:80',
    'http://190.181.27.198:6332',
    'http://182.106.220.252:9091',
    'http://67.43.228.253:13739',
    'http://202.51.114.210:3128',
    'http://58.20.77.181:2323',
    'http://85.208.117.214:20314',
    'http://188.234.147.54:8019',
    'http://103.10.120.165:80',
    'http://193.105.211.77:80',
    'http://118.99.127.62:8080',
    'http://117.160.250.133:80',
    'http://103.164.213.78:8088',
    'http://202.182.49.26:5656',
    'http://140.227.204.70:3128',
    'http://85.208.117.214:20436',
    'http://67.43.228.253:3717',
    'http://167.172.96.213:80',
    'http://197.100.98.162:8080',
    'http://114.129.2.82:8081',
    'http://87.129.166.186:8080',
    'http://118.137.188.3:8080',
    'http://67.43.228.253:1873',
    'http://2.189.59.3:80',
    'http://85.208.117.214:20037',
    'http://117.160.250.132:80',
    'http://195.181.172.231:8081',
    'http://58.234.116.197:8197',
    'http://103.26.110.134:84',
    'http://72.10.164.178:3221',
    'http://41.33.66.235:1976',
    'http://47.243.114.192:8180',
    'http://115.127.5.146:8674',
    'http://213.39.50.132:3128',
    'http://60.210.40.190:9091',
    'http://67.43.227.227:8141',
    'http://188.40.44.83:80',
    'http://197.243.20.178:80',
    'http://67.43.236.20:7269',
    'http://165.16.6.153:1981',
    'http://72.10.164.178:9039',
    'http://146.196.54.150:8080',
    'http://67.43.227.227:28469',
    'http://193.239.56.84:8081',
    'http://103.169.187.164:8086',
    'http://202.148.31.222:8080',
    'http://86.63.140.160:3128',
    'http://92.114.19.135:3128',
    'http://103.106.78.187:8282',
    'http://41.65.224.93:1981',
    'http://41.78.38.245:45318',
    'http://189.240.60.163:9090',
    'http://103.154.77.75:8080',
    'http://103.130.4.8:8080',
    'http://133.232.90.126:80',
    'http://195.117.148.69:41258',
    'http://188.125.173.66:8080',
    'http://111.72.200.211:8089',
    'http://194.124.36.98:8080',
    'http://125.87.93.33:8089',
    'http://125.87.91.179:8089',
    'http://114.103.80.134:8089',
    'http://38.172.128.208:999',
    'http://186.250.25.230:55443',
    'http://34.27.110.163:3128',
    'http://180.178.98.91:2526',
    'http://162.248.225.184:80',
    'http://162.248.225.124:80',
    'http://190.147.183.27:8080',
    'http://103.149.56.98:80',
    'http://5.149.81.90:8080',
    'http://45.174.46.74:999',
    'http://103.153.154.6:80',
    'http://5.161.212.254:3128',
    'http://5.161.121.221:3128',
    'http://37.148.211.88:3128',
    'http://190.122.185.170:999',
    'http://185.249.107.84:3128',
    'http://103.247.82.2:8080',
    'http://103.8.164.16:1111',
    'http://114.231.82.60:8089',
    'http://186.148.182.86:999',
    'http://103.231.249.242:3128',
    'http://217.12.21.249:80',
    'http://5.161.180.12:3128',
    'http://189.240.60.168:9090',
    'http://114.231.46.20:8089',
    'http://114.231.82.17:8888',
    'http://102.132.56.218:8080',
    'http://204.188.210.198:4128',
    'http://31.186.136.15:3128',
    'http://27.79.199.186:3128',
    'http://182.253.40.51:8088',
    'http://163.53.82.237:32650',
    'http://38.156.238.181:999',
    'http://117.187.18.136:3128',
    'http://45.188.167.228:999',
    'http://102.68.131.31:8080',
    'http://119.6.239.22:80',
    'http://45.133.168.120:8080',
    'http://38.51.235.214:999',
    'http://194.124.37.9:8080',
    'http://45.71.115.65:999',
    'http://91.235.220.122:80',
    'http://200.39.152.193:999',
    'http://180.242.248.99:8080',
    'http://102.216.181.6:8080',
    'http://1.224.3.122:3889',
    'http://132.145.162.109:3128',
    'http://95.164.84.68:3128',
    'http://202.144.139.201:8080',
    'http://103.23.37.138:80',
    'http://92.114.19.131:3128',
    'http://92.114.19.138:3128',
    'http://92.114.19.133:3128',
    'http://129.18.164.130:8080',
    'http://5.180.254.9:80',
    'http://196.11.183.216:8080',
    'http://45.7.64.49:999',
    'http://103.105.196.130:3128',
    'http://41.33.66.238:1981',
    'http://186.13.11.121:8080',
    'http://23.131.56.171:999',
    'http://193.150.21.138:8088',
    'http://85.214.251.15:3128',
    'http://5.161.111.42:3128',
    'http://103.156.17.151:8080',
    'http://103.118.175.232:1080',
    'http://103.231.78.36:80',
    'http://116.254.115.130:8080',
    'http://181.176.148.138:999',
    'http://185.221.237.219:80',
    'http://187.134.45.164:8080',
    'http://163.53.82.238:32650',
    'http://180.242.248.70:8080',
    'http://45.247.64.49:8080',
    'http://103.178.94.107:80',
    'http://164.40.194.76:8080',
    'http://177.241.233.10:999',
    'http://202.154.18.9:8080',
    'http://103.147.241.3:8181',
    'http://31.210.172.11:3128',
    'http://143.47.121.145:3128',
    'http://177.200.239.46:999',
    'http://181.78.95.48:999',
    'http://38.7.197.192:999',
    'http://189.127.128.248:8080',
    'http://115.127.19.193:8674',
    'http://103.216.49.57:8080',
    'http://38.156.74.9:8080',
    'http://109.254.81.159:9090',
    'http://91.67.234.73:80',
    'http://170.83.242.250:999',
    'http://196.251.135.157:8080',
    'http://103.253.127.186:8080',
    'http://24.152.50.116:999',
    'http://102.132.40.222:8080',
    'http://190.94.212.4:999',
    'http://190.94.212.197:999',
    'http://190.94.239.182:8080',
    'http://102.132.41.31:8080',
    'http://38.56.80.23:3125',
    'http://45.225.207.180:999',
    'http://216.238.99.171:80',
    'http://103.133.221.251:80',
    'http://122.116.150.2:9000',
    'http://177.200.239.40:999',
    'http://95.216.164.36:80',
    'http://170.187.226.142:3128',
    'http://125.25.33.78:8080',
    'http://186.4.147.10:8080',
    'http://94.130.54.171:7385',
    'http://94.130.54.171:7449',
    'http://94.130.54.171:7455',
    'http://94.130.54.171:7166',
    'http://94.130.54.171:7396',
    'http://94.130.54.171:7021',
    'http://206.233.177.254:80',
    'http://23.94.41.236:8081',
    'http://194.182.187.78:3128',
    'http://190.104.168.19:80',
    'http://190.72.102.42:999',
    'http://103.141.70.18:8080',
    'http://188.215.245.235:80',
    'http://94.130.54.171:7293',
    'http://94.130.54.171:7125',
    'http://94.130.54.171:7095',
    'http://190.110.35.224:999',
    'http://103.118.175.87:1645',
    'http://31.59.9.32:8080',
    'http://179.1.129.37:999',
    'http://186.148.181.50:8080',
    'http://170.83.242.251:999',
    'http://14.161.24.81:2022',
    'http://45.81.145.128:8080',
    'http://45.252.79.48:8080',
    'http://142.93.218.24:3128',
    'http://58.250.250.115:8888',
    'http://193.233.203.58:3128',
    'http://45.184.85.18:999',
    'http://121.230.210.254:8089',
    'http://31.214.171.62:3128',
    'http://190.97.233.18:999',
    'http://186.30.116.46:999',
    'http://175.101.80.134:8080',
    'http://45.250.169.132:8080',
    'http://114.106.135.0:8089',
    'http://103.88.237.24:8080',
    'http://65.21.232.59:8786',
    'http://223.247.46.96:8089',
    'http://119.110.73.226:3888',
    'http://198.13.42.153:3129',
    'http://5.161.82.73:3128',
    'http://179.53.239.155:3128',
    'http://210.56.2.106:8080',
    'http://84.201.254.47:3128',
    'http://179.0.43.68:999',
    'http://41.77.210.210:80',
    'http://69.70.244.34:80',
    'http://45.71.169.145:80',
    'http://103.83.232.122:80',
    'http://103.160.205.254:8080',
    'http://179.1.85.210:999',
    'http://38.52.162.255:999',
    'http://138.59.20.42:9999',
    'http://222.190.173.154:8089',
    'http://103.218.188.2:80',
    'http://114.231.46.185:8089',
    'http://88.99.249.96:8283',
    'http://103.48.68.107:83',
    'http://204.157.240.53:999',
    'http://114.106.135.177:8089',
    'http://115.127.88.138:8674',
    'http://200.125.168.132:999',
    'http://88.99.249.96:8177',
    'http://129.213.118.148:3128',
    'http://194.31.53.250:80',
    'http://45.229.6.81:999',
    'http://180.119.92.64:8089',
    'http://117.94.122.150:9000',
    'http://61.7.146.7:80',
    'http://5.165.6.188:1513',
    'http://114.233.70.184:9000',
    'http://103.167.71.38:8080',
    'http://41.220.135.105:8040',
    'http://188.136.154.52:7060',
    'http://202.0.103.115:80',
    'http://180.189.196.167:8080',
    'http://170.39.30.129:8080',
    'http://181.115.93.77:999',
    'http://202.154.19.195:8082',
    'http://177.93.45.154:999',
    'http://221.230.216.50:7788',
    'http://103.162.199.41:8080',
    'http://123.245.248.135:8089',
    'http://93.123.16.188:3128',
    'http://138.117.77.214:999',
    'http://109.201.14.82:8080',
    'http://103.161.164.125:8181',
    'http://203.89.29.41:6060',
    'http://190.104.173.62:80',
    'http://179.53.250.19:3128',
    'http://223.215.176.221:8089',
    'http://203.171.110.218:8080',
    'http://92.63.168.248:80',
    'http://154.0.157.10:8080',
    'http://81.10.80.155:8080',
    'http://128.199.202.122:8080',
    'http://185.49.170.20:43626',
    'http://5.161.207.168:3128',
    'http://177.38.10.15:8080',
    'http://114.103.81.34:8089',
    'http://5.2.228.168:8888',
    'http://101.34.30.200:8081',
    'http://114.233.70.213:9000',
    'http://91.197.77.118:443',
    'http://103.72.198.132:82',
    'http://41.65.236.43:1981',
    'http://210.213.212.121:8080',
    'http://45.5.118.43:999',
    'http://45.5.118.142:8080',
    'http://110.34.3.229:3128',
    'http://94.102.203.2:1500',
    'http://103.155.54.137:83',
    'http://179.107.54.27:5566',
    'http://2.83.198.171:80',
    'http://85.114.120.177:9999',
    'http://177.234.210.56:999',
    'http://79.127.11.194:8080',
    'http://103.139.144.105:8080',
    'http://103.123.168.165:83',
    'http://103.150.18.218:80',
    'http://192.141.196.129:8080',
    'http://78.47.186.43:6666',
    'http://200.106.184.21:999',
    'http://45.189.113.142:999',
    'http://103.149.194.24:32650',
    'http://103.137.198.5:8080',
    'http://187.102.219.149:999',
    'http://212.23.217.71:8080',
    'http://179.0.43.45:999',
    'http://222.190.208.125:8089',
    'http://221.230.216.54:7788',
    'http://201.77.108.149:999',
    'http://200.106.187.252:999',
    'http://103.191.155.30:8080',
    'http://222.190.208.44:8089',
    'http://182.48.204.35:8080',
    'http://162.212.157.35:8080',
    'http://115.127.122.100:8080',
    'http://115.127.79.234:8080',
    'http://115.124.69.166:3128',
    'http://118.70.12.171:53281',
    'http://103.167.171.150:8181',
    'http://103.122.64.208:9090',
    'http://177.53.214.208:999',
    'http://41.74.91.190:7777',
    'http://95.158.174.111:8080',
    'http://103.244.205.179:8888',
    'http://185.86.82.74:8080',
    'http://45.188.108.65:8080',
    'http://190.90.8.74:8080',
    'http://103.49.202.252:80',
    'http://185.134.96.34:8081',
    'http://103.180.113.217:8080',
    'http://103.112.22.81:83',
    'http://157.245.27.9:3128',
    'http://85.50.139.97:55443',
    'http://103.48.68.36:82',
    'http://41.65.236.57:1976',
    'http://41.65.236.35:1981',
    'http://162.212.157.238:8080',
    'http://162.212.153.95:8080',
    'http://179.43.8.15:8084',
    'http://103.159.90.6:8080',
    'http://36.83.188.44:8080',
    'http://103.4.167.69:8080',
    'http://103.48.68.35:83',
    'http://45.224.119.184:999',
    'http://200.7.10.158:8080',
    'http://187.1.57.206:20183',
    'http://43.133.180.107:7890',
    'http://45.190.170.254:999',
    'http://103.159.46.34:84',
    'http://41.65.236.53:1981',
    'http://190.217.101.73:999',
    'http://94.231.178.249:9797',
    'http://89.116.225.216:3128',
    'http://117.54.114.100:80',
    'http://181.39.35.3:999',
    'http://37.32.12.216:4008',
    'http://117.54.114.99:80',
    'http://177.234.244.171:999',
    'http://186.101.84.214:999',
    'http://170.245.132.86:999',
    'http://103.127.1.130:80',
    'http://45.130.96.26:8080',
    'http://223.215.177.196:8089',
    'http://63.42.112.155:8001',
    'http://114.233.71.0:9000',
    'http://34.86.252.79:8585',
    'http://34.162.24.17:8585',
    'http://34.86.196.77:8585',
    'http://34.86.64.245:8585',
    'http://34.162.183.32:8585',
    'http://34.162.76.11:8585',
    'http://35.193.158.6:8585',
    'http://34.162.59.88:8585',
    'http://114.231.8.204:8089',
    'http://34.162.63.141:8585',
    'http://34.162.67.130:8585',
    'http://183.165.246.108:8089',
    'http://34.162.171.228:8585',
    'http://223.247.46.169:8089',
    'http://34.85.211.38:8585',
    'http://34.86.138.63:8585',
    'http://34.162.135.2:8585',
    'http://34.174.141.41:8585',
    'http://34.162.156.215:8585',
    'http://34.85.155.119:8585',
    'http://34.162.53.144:8585',
    'http://34.162.22.200:8585',
    'http://35.245.31.182:8585',
    'http://102.68.128.217:8080',
    'http://200.106.184.12:999',
    'http://66.29.154.103:3128',
    'http://49.70.89.246:8089',
    'http://46.160.209.155:8088',
    'http://201.238.248.134:443',
    'http://187.62.64.155:45005',
    'http://87.123.56.163:80',
    'http://181.225.107.227:999',
    'http://200.82.188.28:999',
    'http://190.186.159.17:999',
    'http://103.146.17.241:80',
    'http://222.190.208.233:8089',
    'http://114.103.88.53:8089',
    'http://117.70.48.40:8089',
    'http://114.99.8.124:8089',
    'http://103.169.53.87:8080',
    'http://178.216.249.130:8080',
    'http://45.225.185.62:999',
    'http://198.44.191.202:45787',
    'http://177.66.101.223:8024',
    'http://103.15.140.121:44759',
    'http://45.184.155.6:999',
    'http://45.184.155.3:999',
    'http://190.186.18.161:999',
    'http://123.245.248.97:8089',
    'http://41.215.85.74:8080',
    'http://182.204.183.221:8089',
    'http://45.224.148.117:999',
    'http://179.63.149.5:999',
    'http://123.245.250.179:8089',
    'http://38.52.220.198:999',
    'http://123.245.249.5:8089',
    'http://43.251.118.153:45787',
    'http://121.230.210.106:8089',
    'http://102.68.128.214:8080',
    'http://37.32.12.216:4006',
    'http://123.245.250.190:8089',
    'http://182.204.176.86:8089',
    'http://103.157.117.8:8080',
    'http://114.106.134.117:8089',
    'http://114.103.88.87:8089',
    'http://158.101.113.18:80',
    'http://190.121.153.93:999',
    'http://168.90.13.162:999',
    'http://65.20.171.253:8080',
    'http://221.230.216.200:7788',
    'http://190.61.97.229:999',
    'http://190.119.76.68:8080',
    'http://45.179.246.65:999',
    'http://103.155.197.49:8080',
    'http://103.79.35.146:32650',
    'http://85.114.120.221:9999',
    'http://75.89.101.62:80',
    'http://177.93.45.156:999',
    'http://103.153.190.44:8080',
    'http://114.106.173.101:8089',
    'http://124.195.199.86:8080',
    'http://188.127.249.9:20255',
    'http://37.148.217.234:999',
    'http://103.68.194.85:45787',
    'http://222.190.173.102:8089',
    'http://223.215.177.115:8089',
    'http://58.147.187.50:3125',
    'http://103.80.54.132:32650',
    'http://183.165.248.179:8089',
    'http://103.174.238.204:8080',
    'http://45.235.46.94:8080',
    'http://197.243.67.110:80',
    'http://197.243.67.96:80',
    'http://203.89.29.86:8080',
    'http://114.233.70.173:9000',
    'http://123.245.250.6:8089',
    'http://165.225.206.248:10007',
    'http://182.204.178.100:8089',
    'http://186.167.24.66:999',
    'http://182.204.181.134:8089',
    'http://102.69.236.152:80',
    'http://157.100.56.94:999',
    'http://179.49.117.98:888',
    'http://117.94.121.29:9000',
    'http://114.231.41.171:8089',
    'http://183.165.244.37:8089',
    'http://95.71.125.50:49882',
    'http://120.35.200.44:8089',
    'http://38.51.243.145:999',
    'http://174.138.184.82:38661',
    'http://117.54.114.102:80',
    'http://117.94.122.175:9000',
    'http://180.175.124.102:8118',
    'http://158.140.191.136:8080',
    'http://117.54.114.103:80',
    'http://177.25.40.146:4343',
    'http://114.106.173.122:8089',
    'http://188.235.0.207:8282',
    'http://103.118.78.194:80',
    'http://132.255.210.117:999',
    'http://223.215.176.37:8089',
    'http://95.217.210.191:8080',
    'http://123.245.249.185:8089'
];

export const agents = PROXY_ADDRESSES.map(address => new HttpsProxyAgent(address));

let count = 0;
const connect = async agent => {
    let hasShook = false;
    const [lobbyIdentifier, host, token] = await generateAnonymousUser();
    const websocket = new WebSocket('wss://' + host + '/', {
        headers: {
            'Accept-Encoding': 'gzip, deflate, br',
            'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8',
            'Cache-Control': 'no-cache',
            Connection: 'Upgrade',
            Host: 'prod2-game-d075fae39c69f0a4c3b2df749cc19e6d.ev.io',
            Origin: 'https://ev.io',
            Pragma: 'no-cache',
            'Sec-Websocket-Extensions': 'permessage-deflate; client_max_window_bits',
            'Sec-Websocket-Key': 'UxE3KN3fF5OP4nS7C/qUZw==',
            'Sec-Websocket-Version': '13',
            Upgrade: 'websocket',
            'User-Agent':
                'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36'
        }
    });
    
    await new Promise(r => websocket.once('open', r));
    ['error', 'close'].forEach(x => websocket.addEventListener(x, () => hasShook && console.log(--count)));
    
    await new Promise(r => websocket.addEventListener('message', async ({ data }) => {
        websocket.send(await createInitialiserPacket(lobbyIdentifier, token, await generateAnonymousUser()));
        r();
    }, { once: true }));
    
    console.log(++count);
    hasShook = true;
};

for (let index = 0, { length } = PROXY_ADDRESSES; index < length; index++) {
    await new Promise(r => setTimeout(r, 500));
    for (let i = 0; i < 5; i++) connect(agents[index]);
}